{% extends "layout.html" %}
{% block head %}
<style>
  html {
      height: 100%;
      overflow-x: scroll;
    }
    
    body {
      width: 10000px;
      min-height: 100%;
      overflow-y: hidden;
      background-color: #3c9bec;
/*      background-color: #99bbff;
      background-image: -webkit-gradient(linear, left top, left bottom, from(#99bbff), to(#ffffff)); 
      background-image: -webkit-linear-gradient(top, #99bbff, #ffffff); 
      background-image:    -moz-linear-gradient(top, #99bbff, #ffffff); 
      background-image:     -ms-linear-gradient(top, #99bbff, #ffffff); 
      background-image:      -o-linear-gradient(top, #99bbff, #ffffff); 
      background-image:         linear-gradient(top, #99bbff, #ffffff);
                filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#99bbff', EndColorStr='#ffffff'); */
        
    }

    .wolke1 {
      height: 100%;
      background: url(/static/img/wolke1.png);
    }
    
    .wolke2 {
/*      padding: 20em;*/
      height: 100%;
      background: url(/static/img/wolke2.png);
/*      width: 800px;*/
      height: 800px;
    }
    .source {
      float: left;
    }
    .box {
      width: 200px;
      background-color: white;
/*      padding: 20px;*/
      margin: 20px;
/*      float: left;*/
    }
    .title {
      width: 200px;
      background-color: #3c9bec;
      padding: 10px;
    }

  </style>
{% endblock %}
{% block content %}
<div class="wolke1">
  <div class="wolke2">
    {# {{ grouped_by_source | pprint }} #}
    {% for source_name, source in grouped_by_source.iteritems() %}
    <div class="source">
      {% for entry in source %}
        <div class="box">
          <div class="title">FIXME Source</div>
          {{ entry.report.time_from }} - {{ entry.report.time_to }}
          {% if entry.report.temperature_current %}
            <div class="temp_cur">{{ entry.report.temperature_current }}Â°C</div>
          {% endif %}
        </div>
      {% endfor %}
      </div>
    {% endfor %}
    <pre>
<!--{{ time_series_json }}--></pre>
  </div>
</div>
{% endblock %}
{% block js %}


  $.fn.parallax = function(options){
      var $$ = $(this);
      offset = $$.offset();
      var defaults = {
          "start": 0,
          "stop": offset.left + $$.width(),
          "coeff": 0.95
      };
      var opts = $.extend(defaults, options);
      return this.each(function(){
      $(window).bind('scroll', function() {
              windowLeft = $(window).scrollLeft();
              if((windowLeft >= opts.start) && (windowLeft <= opts.stop)) {
                  newCoord = windowLeft * opts.coeff;
                  $$.css({
                      "background-position": newCoord + "px 0"
                  });
              }
          });
      });
  };
  $('.wolke1').parallax({ "coeff":-0.65 });
  $('.wolke2').parallax({ "coeff":1.15 });
    
{% endblock %}



